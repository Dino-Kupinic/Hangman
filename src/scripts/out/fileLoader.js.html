<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: fileLoader.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: fileLoader.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>"use strict";

let animals;
let cars;
let cities;
let difficulty;

/**
 * loads the JSONs after the DOM has loaded
 */
window.onload = () => {
	difficulty = getDifficulty();
	initialLoadJSONs();
}

/**
 * loads all the JSONs
 */
function initialLoadJSONs() {
	animals = getJSON("animals");
	cars = getJSON("cars");
	cities = getJSON("cities");
}

/**
 * fetches the JSON and responds with a json object which then gets processed by returnCorrectSection()
 * @param topic animals, cars or cities
 * @returns {Promise&lt;any>} promise to return a json
 */
function getJSON(topic) {
	return fetch(`words/${topic}.json`)
		.then((response) => response.json())
		.then((json) => returnCorrectSection(json))
		.catch(error => console.log(error));
}

/**
 * reads the value from the difficulty
 * @returns {*} easy, normal or hard
 */
function getDifficulty() {
	return document.querySelector("#difficulties").value;
}

/**
 * returns the JSON, but if the difficulty changed it reassigns the variables containing the topics
 * @param topic animals, cars or cities
 * @returns {*} value of the topic variables
 */
function requestJSON(topic) {
	const currentDifficulty = getDifficulty();

	if (currentDifficulty !== difficulty) {
		initialLoadJSONs();
	}

	switch (topic) {
		case "animals":
			return animals;
		case "cars":
			return cars;
		case "cities":
			return cities;
		default:
			throw "invalid topic found";
	}
}

/**
 * returns the correct part of the JSON based on the difficulty
 * @param json json containing either easy, normal or hard
 * @returns {*} array with words
 */
function returnCorrectSection(json) {
	const difficulty = getDifficulty();

	switch (difficulty) {
		case "easy":
			return json.easy;
		case "normal":
			return json.normal;
		case "hard":
			return json.hard;
	}
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#getDifficulty">getDifficulty</a></li><li><a href="global.html#getJSON">getJSON</a></li><li><a href="global.html#initialLoadJSONs">initialLoadJSONs</a></li><li><a href="global.html#requestJSON">requestJSON</a></li><li><a href="global.html#returnCorrectSection">returnCorrectSection</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Sat Mar 04 2023 20:13:57 GMT+0100 (Central European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
